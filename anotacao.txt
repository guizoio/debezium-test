docker rm -f estudo_debezium_1 estudo_schema-registry_1 estudo_kafka_1 estudo_zookeeper_1

docker exec -it {id_CONTAINER} /bin/sh
## ENTRAR NO CONTAINER DO POSTGRES PARA CRIAR A DATABASE

psql -U docker -d exampledb -W
senha



curl -i -X POST -H "Accept:application/json" -H "Content-Type:application/json" 127.0.0.1:8083/connectors/ --data "@debezium.json"


docker run --tty --network postgres_debezium_cdc_default confluentinc/cp-kafkacat kafkacat -b kafka:9092 -C -s key=s -s value=avro -r http://schema-registry:8081 -t postgres.public.student


kafka-topics --bootstrap-server=localhost:9092 --list
##LIST TOPIC

kafka-console-consumer bootstrap-server=localhost:9092 --topic postgres.public.student
##CONSUMER KAFKA








{
    "name": "exampledb-connector",
    "config": {
      "connector.class": "io.debezium.connector.postgresql.PostgresConnector",
      "plugin.name": "pgoutput",
      "database.hostname": "postgres",
      "database.port": "5432",
      "database.user": "docker",
      "database.password": "docker",
      "database.dbname": "exampledb",
      "database.server.name": "postgres",
      "table.include.list": "public.student",

        "database.history.kafka.bootstrap.servers": "kafka:9092",
        "database.history.kafka.topic": "schema-changes.inventory",

       "key.converter": "org.apache.kafka.connect.json.JsonConverter",
       "value.converter": "org.apache.kafka.connect.json.JsonConverter",

     
        "transforms": "unwrap",
        "transforms.unwrap.type": "io.debezium.transforms.ExtractNewRecordState",
        "key.converter": "org.apache.kafka.connect.json.JsonConverter",
        "key.converter.schemas.enable": "false",
        "value.converter": "org.apache.kafka.connect.json.JsonConverter",
        "value.converter.schemas.enable": "false"
    }
  }